(self.webpackChunkanim8=self.webpackChunkanim8||[]).push([[441],{441:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var r=n(7294),o=n(4890),i=n(8048),a=n(9163),c="draw",u="tutorial",s=function(e){return{type:"CHANGE_DRAWPASS_STAGE",payload:e}},l=n(2897),f=n(7831);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(i){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={canvasDims:{},pen:{},colors:[],colorCardsActive:!1},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e,t=this;this.canvasContainerRef=this.canvasContainer.canvasContainerRef,e=this.canvasContainerRef,this.setState({canvasDims:{height:e.getBoundingClientRect().height,width:e.getBoundingClientRect().width}},(function(){window.addEventListener("resize",(function(e){return t.updateScreen(e)}))}))}},{key:"updateScreen",value:function(){var e=this,t=this.canvasContainerRef;this.throttle||(this.throttle=!0,setTimeout((function(){e.throttle=!1}),500),this.setState({canvasDims:{height:t.getBoundingClientRect().height,width:t.getBoundingClientRect().width}}))}},{key:"saveImage",value:function(){console.log("get image and save to database")}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement(f.Z,{ref:function(t){return e.canvasContainer=t},canvasImg:this.props.canvasImg,height:this.state.canvasDims.height,width:this.state.canvasDims.width}),r.createElement(l.zx,{onClick:function(){return e.saveImage()}},"save image"))}}])&&m(t.prototype,n),c}(r.Component);function v(){var e=O(["\n  grid-column-start: 1;\n  grid-column-end: 3;\n  margin: 0 16rem 0 1rem;\n\n  @media (min-width: 700px) {\n    border-bottom: 1px solid black;\n  }\n"]);return v=function(){return e},e}function b(){var e=O(["\n  background: black;\n  box-shadow: 0px -3px 0px 0px aquamarine inset;\n  color: white;\n  font-family: sans-serif;\n  font-size: 1.5rem;\n  grid-column-start: 2;\n  line-height: 2rem;\n  margin-left: 1rem;\n  padding: 1rem;\n  text-transform: uppercase;\n\n  &:hover {\n    background: white;\n    color: black;\n  }\n"]);return b=function(){return e},e}function w(){var e=O(["\n  float: left;\n  font-size: 2rem;\n  grid-column-start: 1;\n  grid-column-end: 2;\n  text-transform: lowercase;\n"]);return w=function(){return e},e}function S(){var e=O(["\n  align-items: center;\n  display: grid;\n  margin: 0 auto;\n  max-width: 25rem;\n  padding: 2.2rem 0 0;\n  height: 12.5rem;\n\n  @media (min-width: 700px) {\n    float: right;\n    padding: 3rem 0 0;\n  }\n"]);return S=function(){return e},e}function O(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=a.ZP.div(S()),E=a.ZP.p(w()),P=a.ZP.button(b()),j=a.ZP.span(v());const x=(0,i.$j)(null,(function(e){return(0,o.DE)({changeStage:s},e)}))((function(e){return r.createElement(k,null,r.createElement(E,null,"Familiar?"),r.createElement(P,{onClick:function(){return e.createNewSession()}},"get drawing"),r.createElement(j,null),r.createElement(E,null,"nope . . ."),r.createElement(P,{onClick:function(){return e.changeStage(u)}},"What is this?"))}));var R=n(7363);function C(){var e=D(["\n  font-size: 2rem;\n  line-height: 2.5rem;\n  margin: 0 0 1rem;\n"]);return C=function(){return e},e}function _(){var e=D(["\n  animation-name: ",";\n  animation-duration: 1.5s;\n  animation-timing-function: sine;\n  overflow: hidden;\n"]);return _=function(){return e},e}function D(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var z=a.ZP.div(_(),R.ay),N=a.ZP.p(C());const I=function(e){var t=e.slide.copy;return r.createElement(z,null,r.createElement(N,null,t),!e.first&&r.createElement(l.zx,{style:{float:"left"},onClick:function(){return e.prevStage()}},"prev"),!e.last&&r.createElement(l.zx,{style:{float:"right"},onClick:function(){return e.nextStage()}},"next"),e.last&&r.createElement(l.zx,{style:{display:"block",margin:"0 auto"},onClick:function(){return e.createNewSession()}},"try it out!"))};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(c,e);var t,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(o);if(i){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={step:0},t.slides=[{copy:"DrawPass allows you to start a drawing and pass it along to a friend to collaborate on with a simple URL.",imagePath:""},{copy:"First draw on the canvas with your mouse and the provided UI.",imagePath:""},{copy:'Then when you\'re ready for a friend to add to the drawing, simply click "save" and share the provided URL!',imagePath:""}],t}return t=c,(n=[{key:"prevStage",value:function(){var e=this.state.step;this.setState({step:e-1})}},{key:"nextStage",value:function(){var e=this.state.step;this.setState({step:e+1})}},{key:"render",value:function(){var e=this;return r.createElement(I,{slide:this.slides[this.state.step],prevStage:function(){return e.prevStage()},nextStage:function(){return e.nextStage()},createNewSession:function(){return e.props.createNewSession()},first:0===this.state.step,last:this.state.step===this.slides.length-1})}}])&&T(t.prototype,n),c}(r.Component);const U=(0,i.$j)(null,(function(e){return(0,o.DE)({changeStage:s},e)}))(L);var $=n(5759);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(){var e=Q(["\n  display: inline-block;\n  box-shadow: 1rem 0 0 0 aquamarine, 3rem 0 0 -1rem cadetblue, 5rem 0 0 -2rem black;\n  font-family: sans-serif;\n  font-size: 45px;\n  font-weight: bold;\n  margin: 0 3rem 2rem 0;\n  padding: 3rem 1rem;\n  text-align: center;\n  width: auto;\n\n  @media (min-width: 700px) {\n    box-shadow: 1.5rem 0 0 0 aquamarine, 4.5rem 0 0 -1.5rem cadetblue, 7.5rem 0 0 -3rem black;\n    margin: 0 auto 2rem;\n    padding: 7rem 3rem;\n  }\n"]);return J=function(){return e},e}function K(){var e=Q(["\n  animation-name: ",";\n  animation-duration: 0.5s;\n  animation-timing-function: sine;\n  animation-fill-mode: forwards;\n  margin: 0 auto 0;\n  max-width: 55rem;\n  position: relative;\n  width: 75%;\n\n  @media (min-width: 700px)  {\n    margin: 0 auto;\n  }\n"]);return K=function(){return e},e}function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V=a.ZP.div(K(),(function(e){return(0,R.ns)(e.start,e.end)})),X=a.ZP.div(J()),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(o);if(i){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return W(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e);var n=e.match.params.slug;return t.state={canvasImg:"",slug:n},t}return t=s,(n=[{key:"componentDidMount",value:function(){this.maybeOpenSession(),this.maybeStartNewSession()}},{key:"createNewSession",value:function(){this.handleCreateSessionSuccess({slug:"a23c1b",shared_image:{blob:""}})}},{key:"handleCreateSessionSuccess",value:function(e){this.setState({canvasImg:e.shared_image.blob||"",slug:e.slug}),this.props.changeStage(c)}},{key:"maybeStartNewSession",value:function(){"new"===this.props.sessionId&&this.props.changeStage("new")}},{key:"maybeOpenSession",value:function(){"new"!==this.props.sessionId&&this.props.changeStage(c)}},{key:"drawPassStage",value:function(){var e=this;switch(this.props.drawpassStage){case"new":return r.createElement(x,{createNewSession:function(){return e.createNewSession()}});case c:return r.createElement(g,{canvasImg:this.state.canvasImg});case u:return r.createElement(U,{createNewSession:function(){return e.createNewSession()}});default:return r.createElement($.Z,null)}}},{key:"containerSlide",value:function(){var e={start:"0",end:"calc(50vh - 50%)"};switch(this.props.drawpassStage){case u:case c:return e.end="5rem",e.start="calc(50vh - 50%)",e}return e}},{key:"render",value:function(){var e=this.containerSlide();return r.createElement(V,{start:e.start,end:e.end},r.createElement(X,null,r.createElement("h1",null,"drawpass")),this.drawPassStage())}}])&&G(t.prototype,n),s}(r.Component);const ee=(0,i.$j)((function(e){return{drawpassStage:e.drawpassStage}}),(function(e){return(0,o.DE)({changeStage:s},e)}))(Y)}}]);